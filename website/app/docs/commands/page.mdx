# Commands

AGPM provides a set of commands for managing AI tool artifacts. Here's an overview of all available commands.

## Artifact Management

<Table>
  <Thead>
    <Tr>
      <Th>Command</Th>
      <Th>Description</Th>
    </Tr>
  </Thead>
  <Tbody>
    <Tr>
      <Td>`agpm add <source> [artifact[@version]]`</Td>
      <Td>Add an artifact to your project</Td>
    </Tr>
    <Tr>
      <Td>`agpm install`</Td>
      <Td>Install all configured artifacts</Td>
    </Tr>
    <Tr>
      <Td>`agpm list`</Td>
      <Td>Show configured artifacts and their status</Td>
    </Tr>
    <Tr>
      <Td>`agpm remove <artifact>`</Td>
      <Td>Remove an artifact from your project</Td>
    </Tr>
    <Tr>
      <Td>`agpm update [artifact]`</Td>
      <Td>Update lock file to latest SHAs</Td>
    </Tr>
  </Tbody>
</Table>

## Source Management

<Table>
  <Thead>
    <Tr>
      <Th>Command</Th>
      <Th>Description</Th>
    </Tr>
  </Thead>
  <Tbody>
    <Tr>
      <Td>`agpm source add <repo>`</Td>
      <Td>Add a source repository</Td>
    </Tr>
    <Tr>
      <Td>`agpm source list`</Td>
      <Td>List configured sources</Td>
    </Tr>
    <Tr>
      <Td>`agpm source remove <repo>`</Td>
      <Td>Remove a source</Td>
    </Tr>
    <Tr>
      <Td>`agpm source discover <repo>`</Td>
      <Td>Show available artifacts in a source</Td>
    </Tr>
  </Tbody>
</Table>

## Command Details

### agpm add

Add an artifact to your project configuration.

```bash
# Add from a source
agpm add anthropics/skills pdf

# Add with version pin
agpm add anthropics/skills pdf@v1.0.0
```

### agpm install

Install all configured artifacts to target directories.

```bash
agpm install
```

This command:
1. Reads your `agpm.json` configuration and configured targets
2. Resolves refs to SHAs (creates/updates `agpm-lock.json`)
3. Caches repo at SHA to `~/.agpm/cache/<sha>/`
4. Copies artifacts to enabled target directories (e.g., `.claude/skills/`)

### agpm list

Display all configured artifacts and their status.

```bash
agpm list
```

### agpm update

Update the lock file with the latest versions from sources.

```bash
# Update all artifacts
agpm update

# Update a specific artifact
agpm update anthropics/skills/pdf
```

### agpm source add

Add a new source repository.

```bash
# GitHub shorthand
agpm source add anthropics/skills

# With subpath
agpm source add owner/repo#subdirectory

# Full URL
agpm source add https://github.com/owner/repo
```

### agpm source discover

Discover available artifacts in a source.

```bash
agpm source discover anthropics/skills
```

This shows all artifacts, their descriptions, and metadata from the repository.
